# æ ‘å’ŒäºŒå‰æ ‘

## ä¸€ã€æ ‘çš„åŸºæœ¬æ¦‚å¿µ

### 1.1 æ ‘çš„å®šä¹‰

æ ‘æ˜¯Nï¼ˆN&gt;=0ï¼‰ä¸ªç»“ç‚¹çš„æœ‰é™é›†åˆï¼ŒN=0æ—¶ï¼Œç§°ä¸ºç©ºæ ‘ã€‚åœ¨ä»»æ„ä¸€æ£µéç©ºæ ‘ä¸­åº”æ»¡è¶³ï¼š

1. æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç‰¹å®šçš„ç§°ä¸ºæ ¹çš„ç»“ç‚¹
2. å½“N&gt;1æ—¶ï¼Œå…¶ä½™ç»“ç‚¹å¯åˆ†ä¸ºmï¼ˆm&gt;0ï¼‰ä¸ªäº’ä¸ç›¸äº¤çš„æœ‰é™é›†åˆT1ï¼ŒT2ï¼Œâ€¦â€¦ï¼ŒTmï¼Œå…¶ä¸­æ¯ä¸€ä¸ªé›†åˆæœ¬èº«åˆæ˜¯ä¸€æ£µæ ‘ï¼Œå¹¶ä¸”ç§°ä¸ºæ ¹ç»“ç‚¹çš„å­æ ‘

### 1.2 åŸºæœ¬æ€§è´¨

* æ ‘ä¸­çš„ç»“ç‚¹æ ‘ç­‰äºæ‰€æœ‰ç»“ç‚¹çš„åº¦æ•°åŠ 1
* åº¦ä¸ºmçš„æ ‘ä¸­ç¬¬iå±‚ä¸Šè‡³å¤šæœ‰m^\(i-1\)ä¸ªç»“ç‚¹
* é«˜åº¦ä¸ºhçš„må‰æ ‘è‡³å¤šæœ‰\(m^h-1\)/\(m-1\)ä¸ªç»“ç‚¹
* å…·æœ‰nä¸ªç»“ç‚¹çš„må‰æ ‘çš„æœ€å°é«˜åº¦ä¸ºlog\_m\(n\(m-1\)-1\)

## äºŒã€äºŒå‰æ ‘çš„æ¦‚å¿µ

### 2.1 äºŒå‰æ ‘çš„å®šä¹‰åŠå…¶ä¸»è¦æ€§è´¨

#### äºŒå‰æ ‘çš„å®šä¹‰

äºŒå‰æ ‘æ˜¯å¦ä¸€ç§æ ‘å½¢ç»“æ„ï¼Œç‰¹ç‚¹æ˜¯æ¯ä¸ªç»“ç‚¹è‡³å¤šåªæœ‰ä¸¤æ£µå­æ ‘ï¼Œå¹¶ä¸”äºŒå‰æ ‘çš„å­æ ‘æœ‰å·¦å³ä¹‹åˆ†ã€‚ä¸æ ‘ç›¸ä¼¼ï¼ŒäºŒå‰æ ‘ä¹Ÿä»¥é€’å½’çš„å½¢å¼å®šä¹‰ï¼Œæ˜¯nï¼ˆn&gt;=0ï¼‰ä¸ªç»“ç‚¹çš„æœ‰é™é›†åˆã€‚

![](../.gitbook/assets/images.png)

äºŒå‰æ ‘ä¸åº¦ä¸º2çš„æœ‰åºæ ‘çš„åŒºåˆ«ï¼š

1. åº¦ä¸º2çš„æ ‘è‡³å°‘æœ‰3ä¸ªç»“ç‚¹ï¼Œè€ŒäºŒå‰æ ‘å¯ä»¥ä¸ºç©º
2. åº¦ä¸º2çš„æœ‰åºæ ‘ä¸­ï¼Œå¦‚æœæŸä¸ªç»“ç‚¹åªæœ‰ä¸€ä¸ªå­©å­ç»“ç‚¹ï¼Œè¿™ä¸ªå­©å­ç»“ç‚¹å°±æ— é¡»åŒºåˆ†å·¦å³æ¬¡åº

#### å‡ ä¸ªç‰¹æ®Šçš„äºŒå‰æ ‘

* æ»¡äºŒå‰ğŸŒ²ï¼šæ ‘ä¸­æ¯ä¸€å±‚éƒ½å«æœ‰æœ€å¤šçš„ç»“ç‚¹ã€‚å¯ä»¥å¯¹å…¶æŒ‰å±‚åºç¼–å·ï¼Œçº¦å®šç¼–å·ä»æ ¹ç»“ç‚¹ï¼ˆç¼–å·ä¸º1ï¼‰èµ·ï¼Œä»ä¸Šè€Œä¸‹ï¼Œè‡ªå·¦å‘å³ã€‚è¿™æ ·å¯¹äºç¼–å·ä¸ºiçš„ç»“ç‚¹ï¼Œå¦‚æœæœ‰åŒäº²åˆ™ä¸ºi/2ï¼Œå¦‚æœæœ‰å·¦å³å­©å­ï¼Œåˆ™å·¦å­©å­ä¸º2iï¼Œå³å­©å­ä¸º2i+1

![](../.gitbook/assets/man-wanquan.png)

* å®Œå…¨äºŒå‰ğŸŒ²ï¼šé«˜åº¦ä¸ºhï¼Œæœ‰nä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ï¼Œå½“ä¸”ä»…å½“å…¶æ¯ä¸€ä¸ªç»“ç‚¹éƒ½ä¸é«˜åº¦ä¸ºhçš„æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä¸º1ï½nçš„ç»“ç‚¹ä¸€ä¸€å¯¹åº”æ—¶ï¼Œç§°ä¸ºå®Œå…¨äºŒå‰æ ‘ï¼Œæ€§è´¨å¦‚ä¸‹ï¼š
  * å¦‚æœæœ‰åº¦ä¸º1çš„ç»“ç‚¹ï¼Œåªå¯èƒ½æœ‰ä¸€ä¸ªï¼Œä¸”è¯¥ç»“ç‚¹åªæœ‰å·¦å­©å­ï¼ˆé‡è¦ç‰¹å¾ï¼‰
  * ä¸€æ—¦å‡ºç°æŸç»“ç‚¹ä¸ºå¶å­ç»“ç‚¹æˆ–åªæœ‰å·¦å­©å­ï¼Œåˆ™ç¼–å·å¤§äºè¯¥ç»“ç‚¹çš„å‡ä¸ºå¶å­ç»“ç‚¹
  * nä¸ºå¥‡æ•°ï¼Œåˆ™æ¯ä¸ªåˆ†ä¹‹ç»“ç‚¹éƒ½æœ‰å·¦å­©å­å’Œå³å­©å­ï¼›nä¸ºå¶æ•°ï¼Œåˆ™ç¼–å·æœ€å¤§çš„åˆ†æ”¯ï¼ˆç¼–å·ä¸ºn/2ï¼‰åªæœ‰å·¦å­©å­
* äºŒå‰æ’åºğŸŒ²ï¼šä¸€æ£µäºŒå‰æ ‘æˆ–è€…æ˜¯ç©ºå­æ ‘ï¼Œæˆ–è€…æ˜¯å…·æœ‰å¦‚ä¸‹æ€§è´¨çš„äºŒå‰æ ‘ï¼šå·¦å­æ ‘ä¸Šæ‰€æœ‰çš„ç»“ç‚¹å€¼å‡å°äºæ ¹ç»“ç‚¹çš„å€¼ï¼›å³å­æ ‘ä¸Šå·¦å³çš„ç»“ç‚¹å€¼å‡å¤§äºæ ¹ç»“ç‚¹å€¼ã€‚å·¦å­æ ‘å’Œå³å­æ ‘åˆå„æ˜¯ä¸€æ£µäºŒå‰æ’åºæ ‘
* å¹³è¡¡äºŒå‰ğŸŒ²ï¼šæ ‘ä¸Šä»»ä¸€ç»“ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„æ·±åº¦ä¹‹å·®ä¸è¶…è¿‡1

#### äºŒå‰æ ‘çš„æ€§è´¨

1. éç©ºäºŒå‰æ ‘ä¸Šçš„å¶å­ç»“ç‚¹æ ‘ç­‰äºåº¦ä¸º2çš„ç»“ç‚¹æ ‘åŠ 1
2. éç©ºäºŒå‰æ ‘ä¸Šç¬¬Kå±‚ä¸Šè‡³å¤šæœ‰2^\(k-1\)ä¸ªç»“ç‚¹
3. é«˜åº¦ä¸ºHçš„äºŒå‰æ ‘è‡³å¤šæœ‰2^h-1ä¸ªç»“ç‚¹
4. å…·æœ‰Nä¸ªï¼ˆN&gt;0ï¼‰ç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„é«˜åº¦ä¸º

$$
log_2(N+1)æˆ–log_2N+1
$$

### 2.2 äºŒå‰æ ‘çš„å­˜å‚¨ç»“æ„

#### é¡ºåºå­˜å‚¨ç»“æ„

ç”¨ä¸€ç»„åœ°å€è¿ç»­çš„å­˜å‚¨å•å…ƒä¾æ¬¡ä»ä¸Šè€Œä¸‹ã€ä»å·¦è‡³å³å­˜å‚¨å®Œå…¨äºŒå‰æ ‘ä¸Šçš„ç»“ç‚¹å…ƒç´ ã€‚ä½†å¯¹äºä¸€èˆ¬çš„äºŒå‰æ ‘ï¼Œä¸ºäº†è®©æ•°ç»„ä¸‹æ ‡èƒ½åæ˜ äºŒå‰æ ‘ä¸­ç»“ç‚¹ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œåªèƒ½æ·»åŠ ä¸€äº›å¹¶ä¸å­˜åœ¨çš„ç©ºç»“ç‚¹è®©å…¶æ¯ä¸ªç»“ç‚¹ä¸å®Œå…¨äºŒå‰æ ‘ä¸Šçš„ç»“ç‚¹ç›¸å¯¹ç…§ï¼Œå†å­˜å‚¨åˆ°ä¸€ç»´æ•°ç»„çš„ç›¸åº”åˆ†é‡ä¸­

#### é“¾å¼å­˜å‚¨ç»“æ„

```text
typedef struct BiTNode{
    ElemType data;
    struct BiTNode *lchild, *rchild;
}BiTNode, *BiTree;
```

## ä¸‰ã€äºŒå‰æ ‘çš„éå†å’Œçº¿ç´¢äºŒå‰æ ‘

### 3.1 äºŒå‰æ ‘çš„éå†

#### å…ˆåºéå†

```text
void PreOrder(BiTree T){
    if(T!=NULL){
        vistit(T);            //è®¿é—®æ ¹ç»“ç‚¹
        PreOrder(T->lchild);  //é€’å½’éå†å·¦å­æ ‘
        PreOrder(T->rchild);  //é€’å½’éå†å³å­æ ‘
    }
}
```

#### ä¸­åºéå†

```text
void InOrder(BiTree T){
    if(T!=NULL){
        InOrder(T->lchild);  //é€’å½’éå†å·¦å­æ ‘
        visit(T);            //è®¿é—®æ ¹ç»“ç‚¹
        InOrder(T->rchild);  //é€’å½’éå†å³å­æ ‘
    }
}
```

#### ååºéå†

```text
void PostOrder(BiTree T){
    if(T!=NULL){
        PostOrder(T->rchild);
        PostOrder(T->lchild);
        visit(T);
    }
}
```

ä¸ç®¡é‡‡ç”¨å“ªç§éå†ç®—æ³•ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½æœ‰ä¸”è®¿é—®ä¾æ¬¡ï¼Œæ•…æ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO\(n\)ã€‚åœ¨æœ€åæƒ…å†µä¸‹ï¼ŒäºŒå‰æ ‘æ˜¯æœ‰nä¸ªç»“ç‚¹ä¸”æ·±åº¦ä¸ºnçš„å•æ”¯æ ‘ï¼Œéå†ç®—æ³•ç©ºé—´å¤æ‚åº¦ä¸ºO\(n\)ã€‚

#### é€’å½’ç®—æ³•å’Œéé€’å½’ç®—æ³•çš„è½¬æ¢

å€ŸåŠ©æ ˆï¼Œå°†äºŒå‰æ ‘çš„é€’å½’ç®—æ³•è½¬æ¢ä¸ºéé€’å½’ç®—æ³•ï¼Œä¸‹é¢ä»¥ä¸­åºéå†ä¸ºä¾‹ã€‚å…ˆæ‰«æï¼ˆéè®¿é—®ï¼‰æ ¹ç»“ç‚¹çš„æ‰€æœ‰åšç»“ç‚¹å¹¶å°†å®ƒä»¬ä¸€ä¸€å…¥æ ˆã€‚ç„¶åå‡ºæ ˆä¸€ä¸ªç»“ç‚¹\*pï¼ˆæ— å·¦å­©å­æˆ–å·¦å­©å­å‡å·²è®¿é—®è¿‡ï¼‰ï¼Œåˆ™è®¿é—®å®ƒã€‚ç„¶åæ‰«æè¯¥ç»“ç‚¹çš„å³å­©å­ç»“ç‚¹ï¼Œè¿›æ ˆï¼Œå†æ‰«æå³å­©å­ç»“ç‚¹çš„å·¦ç»“ç‚¹å¹¶å…¥æ ˆï¼Œç›´è‡³æ ˆç©º

```text
void InOrder2(BiTree T){
    InitStack(S);
    BiTree p=T;
    while(p||!IsEmpty(S)){
        if(p){                //æ ¹æŒ‡é’ˆè¿›æ ˆï¼Œéå†å·¦å­æ ‘
            Push(p, S);
            p=p->lchild;
        }else{                //æ ¹æŒ‡é’ˆé€€æ ˆï¼Œè®¿é—®æ ¹ç»“ç‚¹ï¼Œéå†å³å­æ ‘
            Pop(S, p);
            visit(p);
            p=p->rchild;      //å‘å³å­æ ‘èµ°
        }
    }
}
```

æ˜¾ç„¶éé€’å½’ç®—æ³•çš„æ‰§è¡Œæ•ˆç‡é«˜äºé€’å½’ç®—æ³•

#### å±‚æ¬¡éå†

è¦è¿›è¡Œå±‚æ¬¡éå†éœ€è¦å€ŸåŠ©ä¸€ä¸ªé˜Ÿåˆ—ã€‚å…ˆå°†äºŒå‰æ ‘æ ¹ç»“ç‚¹å…¥é˜Ÿï¼Œç„¶åå‡ºé˜Ÿï¼Œè®¿é—®è¯¥ç»“ç‚¹ï¼Œç„¶åå°†å·¦å³å­æ ‘æ ¹ç»“ç‚¹å…¥é˜Ÿï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œç„¶åå‡ºé˜Ÿï¼Œç›´è‡³é˜Ÿåˆ—ä¸ºç©º

```text
void LevelOrder(BiTree T){
    InitQueue(Q);
    BiTree p;
    EnQueue(Q, T);
    while(!IsEmpty(Q)){
        DeQueue(Q, p);
        visit(p);
        if(p->lchild!=NULL)
            EnQueue(Q, p->lchild);
        if(p->rchild!=NULL)
            EnQueue(Q, p->rchild);
    }
}
```

#### ç”±éå†åºåˆ—æ„é€ äºŒå‰æ ‘

ç”±äºŒå‰æ ‘çš„å…ˆåºåºåˆ—å’Œä¸­åºåºåˆ—å¯ä»¥å”¯ä¸€åœ°ç¡®å®šä¸€æ£µäºŒå‰æ ‘ï¼š

```text
BiTree create(int preL, int preR, int inL, int inR){
    if()
        return NULL;
    BiTNode root = (BiTNode*)malloc(sizeof(BiTNode));
    root->data = pre[preL];
    for(int i=inL, i<=inR, i++){
        if(in[i]==pre[preL]) break;
    }
    int num = i-inL;
    root->lchild = create(preL+1, preL+num, inL, i-1);
    root->rchild = create(preL+num+1, preR, i+1, inR);
}
```

âš ï¸ å¦‚æœåªçŸ¥é“äºŒå‰æ ‘çš„å…ˆåºåºåˆ—å’Œååºåºåˆ—ï¼Œåˆ™æ— æ³•å”¯ä¸€ç¡®å®šä¸€æ£µäºŒå‰æ ‘

### 3.2 çº¿ç´¢äºŒå‰æ ‘

#### çº¿ç´¢äºŒå‰æ ‘çš„åŸºæœ¬æ¦‚å¿µ

å¼•å…¥çº¿ç´¢äºŒå‰æ ‘æ˜¯ä¸ºäº†åŠ å¿«æŸ¥æ‰¾ç»“ç‚¹å‰é©±å’Œåç»§çš„é€Ÿåº¦ã€‚åœ¨äºŒå‰æ ‘çº¿ç´¢åŒ–æ—¶ï¼Œé€šå¸¸è§„å®šï¼šè‹¥æ— å·¦å­æ ‘ï¼Œä»¤lchildæŒ‡å‘å…¶å‰é©±ç»“ç‚¹ï¼›è‹¥æ— å³å­æ ‘ï¼Œä»¤rchildæŒ‡å‘å…¶åç»§ç»“ç‚¹ã€‚è¿˜éœ€è¦æ·»åŠ ä¸¤ä¸ªæ ‡è¯†åŸŸè¡¨æ˜å½“å‰æŒ‡é’ˆåŸŸæ‰€æŒ‡å¯¹è±¡æ˜¯æŒ‡å‘å·¦ï¼ˆå³ï¼‰å­ç»“ç‚¹è¿˜æ˜¯ç›´æ¥å‰é©±ï¼ˆåç»§ï¼‰

![](../.gitbook/assets/img_1426-20190619-210231.jpg)

```text
typedef struct ThreadNode{
    ElemType data;
    struct ThreadNode *lchild, *rchild;
    int ltag, rtag;
}ThreadNode, *ThreadTree;
```

ä»¥è¿™ç§ç»“ç‚¹ç»“æ„æ„æˆçš„äºŒå‰é“¾è¡¨ä½œä¸ºäºŒå‰æ ‘çš„å­˜å‚¨ç»“æ„ï¼Œå«åšçº¿ç´¢é“¾è¡¨ï¼Œå…¶ä¸­æŒ‡å‘ç»“ç‚¹å‰é©±å’Œåç»§çš„æŒ‡é’ˆï¼Œå«åšçº¿ç´¢ã€‚åŠ ä¸Šçº¿ç´¢çš„äºŒå‰æ ‘ç§°ä¸ºçº¿ç´¢äºŒå‰æ ‘ã€‚å¯¹äºŒå‰æ ‘ä»¥æŸç§æ¬¡åºéå†ä½¿å…¶å˜ä¸ºçº¿ç´¢äºŒå‰æ ‘çš„è¿‡ç¨‹å«åšçº¿ç´¢åŒ–

#### çº¿ç´¢äºŒå‰æ ‘çš„æ„é€ 

å¯¹äºŒå‰æ ‘çš„çº¿ç´¢åŒ–ï¼Œå®è´¨ä¸Šå°±æ˜¯éå†ä¸€æ¬¡äºŒå‰æ ‘ã€‚åœ¨è¿‡ç¨‹ä¸­æ£€æŸ¥å½“å‰ç»“ç‚¹å·¦å³æŒ‡é’ˆåŸŸæ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ºç©ºï¼Œå°†å®ƒä»¬æ”¹ä¸ºæŒ‡å‘å‰é©±ç»“ç‚¹æˆ–åç»§ç»“ç‚¹çš„çº¿ç´¢

é€šè¿‡ä¸­åºéå†å¯¹äºŒå‰æ ‘çº¿ç´¢åŒ–çš„é€’å½’ç®—æ³•å¦‚ä¸‹ï¼š

```text
void InThread(ThreadTree &p, ThreadTree &pre){
//ä¸­åºéå†å¯¹äºŒå‰æ ‘çº¿ç´¢åŒ–çš„é€’å½’ç®—æ³•
    if(p!=NULL){
        InThread(p->lchild, pre);
        if(p->lchild==NULL){
            p->lchild=pre;
            p->ltag=1;
        }
        if(pre!=NULL&&pre->rchild==NULL){
            pre->rchild=p;
            pre->rtag=1;
        }
        pre=p;
        InThread(p->rchild, pre);
    }
}
```

é€šè¿‡ä¸­åºéå†ç©¿ä»¶ä¸­åºçº¿ç´¢äºŒå‰æ ‘çš„ä¸»è¿‡ç¨‹ç®—æ³•å¦‚ä¸‹ï¼š

```text
void CreateInThread(ThreadTree T){
    ThreadTree pre = NULL;
    if(T!=NULL){
        InThread(T, pre);
        pre->rchild=NULL;
        pre->rtag=1;
    }
}
```

#### çº¿ç´¢äºŒå‰æ ‘çš„éå†

æ±‚ä¸­åºçº¿ç´¢äºŒå‰æ ‘ä¸­ä¸­åºåºåˆ—çš„ç¬¬ä¸€ä¸ªç»“ç‚¹

```text
ThreadNode *Firstnode(ThreadNode *p){
    while(p->ltag==0) p=p->lchild;
    return p;
}
```

æ±‚ä¸­åºçº¿ç´¢äºŒå‰æ ‘ä¸­ç»“ç‚¹påœ¨ä¸­åºåºåˆ—ä¸‹çš„åç»§ç»“ç‚¹

```text
ThreadNode *Nextnode(ThreadNode *p){
    if(p->rtag==0) return Firstnode(p->rchild);
    else return p->rchild;
}
```

ä¸å«å¤´ç»“ç‚¹çš„ä¸­åºçº¿ç´¢äºŒå‰æ ‘çš„ä¸­åºéå†ç®—æ³•

```text
void Inorder(ThreadNode *T){
    for(ThreadNode *p=Firstnode(T); p!=NULL; p=Nextnode(p))
        visit(p);
}
```



